{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getReferenceNameField = getReferenceNameField;\nexports.getFiltersParametersFromResourceSchema = exports.getOrderParametersFromResourceSchema = void 0;\n\nfunction getReferenceNameField(reference) {\n  var field = reference.fields.find(function (field) {\n    return 'http://schema.org/name' === field.id;\n  });\n  return field ? field.name : 'id';\n}\n\nvar ORDER_MARKER = 'order[';\n\nvar getOrderParametersFromResourceSchema = function getOrderParametersFromResourceSchema(resourceSchema) {\n  var authorizedFields = resourceSchema.fields.map(function (field) {\n    return field.name;\n  });\n  return resourceSchema.parameters.map(function (filter) {\n    return filter.variable;\n  }).filter(function (filter) {\n    return filter.includes(ORDER_MARKER);\n  }).map(function (orderFilter) {\n    return orderFilter.replace(ORDER_MARKER, '').replace(']', '');\n  }).filter(function (filter) {\n    return authorizedFields.includes(filter);\n  });\n};\n\nexports.getOrderParametersFromResourceSchema = getOrderParametersFromResourceSchema;\n\nvar getFiltersParametersFromResourceSchema = function getFiltersParametersFromResourceSchema(resourceSchema) {\n  var authorizedFields = resourceSchema.fields.map(function (field) {\n    return field.name;\n  });\n  return resourceSchema.parameters.map(function (filter) {\n    return {\n      name: filter.variable,\n      isRequired: filter.required\n    };\n  }).filter(function (filter) {\n    return !filter.name.includes(ORDER_MARKER);\n  }).filter(function (filter) {\n    return authorizedFields.includes(filter.name);\n  });\n};\n\nexports.getFiltersParametersFromResourceSchema = getFiltersParametersFromResourceSchema;","map":{"version":3,"sources":["C:/Users/Guillaume/Code/e-commerce/admin/node_modules/@api-platform/admin/lib/docsUtils/index.js"],"names":["Object","defineProperty","exports","value","getReferenceNameField","getFiltersParametersFromResourceSchema","getOrderParametersFromResourceSchema","reference","field","fields","find","id","name","ORDER_MARKER","resourceSchema","authorizedFields","map","parameters","filter","variable","includes","orderFilter","replace","isRequired","required"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,qBAAR,GAAgCA,qBAAhC;AACAF,OAAO,CAACG,sCAAR,GAAiDH,OAAO,CAACI,oCAAR,GAA+C,KAAK,CAArG;;AAEA,SAASF,qBAAT,CAA+BG,SAA/B,EAA0C;AACxC,MAAMC,KAAK,GAAGD,SAAS,CAACE,MAAV,CAAiBC,IAAjB,CAAsB,UAAAF,KAAK;AAAA,WAAI,6BAA6BA,KAAK,CAACG,EAAvC;AAAA,GAA3B,CAAd;AACA,SAAOH,KAAK,GAAGA,KAAK,CAACI,IAAT,GAAgB,IAA5B;AACD;;AAED,IAAMC,YAAY,GAAG,QAArB;;AAEA,IAAMP,oCAAoC,GAAG,SAAvCA,oCAAuC,CAAAQ,cAAc,EAAI;AAC7D,MAAMC,gBAAgB,GAAGD,cAAc,CAACL,MAAf,CAAsBO,GAAtB,CAA0B,UAAAR,KAAK;AAAA,WAAIA,KAAK,CAACI,IAAV;AAAA,GAA/B,CAAzB;AACA,SAAOE,cAAc,CAACG,UAAf,CAA0BD,GAA1B,CAA8B,UAAAE,MAAM;AAAA,WAAIA,MAAM,CAACC,QAAX;AAAA,GAApC,EAAyDD,MAAzD,CAAgE,UAAAA,MAAM;AAAA,WAAIA,MAAM,CAACE,QAAP,CAAgBP,YAAhB,CAAJ;AAAA,GAAtE,EAAyGG,GAAzG,CAA6G,UAAAK,WAAW;AAAA,WAAIA,WAAW,CAACC,OAAZ,CAAoBT,YAApB,EAAkC,EAAlC,EAAsCS,OAAtC,CAA8C,GAA9C,EAAmD,EAAnD,CAAJ;AAAA,GAAxH,EAAoLJ,MAApL,CAA2L,UAAAA,MAAM;AAAA,WAAIH,gBAAgB,CAACK,QAAjB,CAA0BF,MAA1B,CAAJ;AAAA,GAAjM,CAAP;AACD,CAHD;;AAKAhB,OAAO,CAACI,oCAAR,GAA+CA,oCAA/C;;AAEA,IAAMD,sCAAsC,GAAG,SAAzCA,sCAAyC,CAAAS,cAAc,EAAI;AAC/D,MAAMC,gBAAgB,GAAGD,cAAc,CAACL,MAAf,CAAsBO,GAAtB,CAA0B,UAAAR,KAAK;AAAA,WAAIA,KAAK,CAACI,IAAV;AAAA,GAA/B,CAAzB;AACA,SAAOE,cAAc,CAACG,UAAf,CAA0BD,GAA1B,CAA8B,UAAAE,MAAM;AAAA,WAAK;AAC9CN,MAAAA,IAAI,EAAEM,MAAM,CAACC,QADiC;AAE9CI,MAAAA,UAAU,EAAEL,MAAM,CAACM;AAF2B,KAAL;AAAA,GAApC,EAGHN,MAHG,CAGI,UAAAA,MAAM;AAAA,WAAI,CAACA,MAAM,CAACN,IAAP,CAAYQ,QAAZ,CAAqBP,YAArB,CAAL;AAAA,GAHV,EAGmDK,MAHnD,CAG0D,UAAAA,MAAM;AAAA,WAAIH,gBAAgB,CAACK,QAAjB,CAA0BF,MAAM,CAACN,IAAjC,CAAJ;AAAA,GAHhE,CAAP;AAID,CAND;;AAQAV,OAAO,CAACG,sCAAR,GAAiDA,sCAAjD","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getReferenceNameField = getReferenceNameField;\nexports.getFiltersParametersFromResourceSchema = exports.getOrderParametersFromResourceSchema = void 0;\n\nfunction getReferenceNameField(reference) {\n  const field = reference.fields.find(field => 'http://schema.org/name' === field.id);\n  return field ? field.name : 'id';\n}\n\nconst ORDER_MARKER = 'order[';\n\nconst getOrderParametersFromResourceSchema = resourceSchema => {\n  const authorizedFields = resourceSchema.fields.map(field => field.name);\n  return resourceSchema.parameters.map(filter => filter.variable).filter(filter => filter.includes(ORDER_MARKER)).map(orderFilter => orderFilter.replace(ORDER_MARKER, '').replace(']', '')).filter(filter => authorizedFields.includes(filter));\n};\n\nexports.getOrderParametersFromResourceSchema = getOrderParametersFromResourceSchema;\n\nconst getFiltersParametersFromResourceSchema = resourceSchema => {\n  const authorizedFields = resourceSchema.fields.map(field => field.name);\n  return resourceSchema.parameters.map(filter => ({\n    name: filter.variable,\n    isRequired: filter.required\n  })).filter(filter => !filter.name.includes(ORDER_MARKER)).filter(filter => authorizedFields.includes(filter.name));\n};\n\nexports.getFiltersParametersFromResourceSchema = getFiltersParametersFromResourceSchema;"]},"metadata":{},"sourceType":"script"}