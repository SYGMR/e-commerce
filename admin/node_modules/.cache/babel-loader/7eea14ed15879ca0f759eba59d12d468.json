{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectWithoutProperties\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.EditGuesserComponent = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _InputGuesser = _interopRequireDefault(require(\"./InputGuesser\"));\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar displayOverrideCode = function displayOverrideCode(resourceSchema, fields) {\n  var code = 'If you want to override at least one input, paste this content in the <EditGuesser> component of your resource:\\n\\n';\n  code += \"const \".concat(resourceSchema.title, \"Edit = props => (\\n\");\n  code += \"    <EditGuesser {...props}>\\n\";\n  fields.forEach(function (field) {\n    code += \"        <InputGuesser source={\\\"\".concat(field.name, \"\\\"} />\\n\");\n  });\n  code += \"    </EditGuesser>\\n\";\n  code += \");\\n\";\n  code += \"\\n\";\n  code += \"And don't forget update your <ResourceGuesser> component:\\n\";\n  code += \"<ResourceGuesser name={\\\"\".concat(resourceSchema.name, \"\\\"} edit={\").concat(resourceSchema.title, \"Edit} />\");\n  console.info(code);\n}; // useful for testing (we don't need Query)\n\n\nvar EditGuesserComponent = function EditGuesserComponent(_ref) {\n  var children = _ref.children,\n      fields = _ref.fields,\n      resourceSchema = _ref.resourceSchema,\n      props = _objectWithoutProperties(_ref, [\"children\", \"fields\", \"resourceSchema\"]);\n\n  if (!children) {\n    children = fields.map(function (field) {\n      return _react.default.createElement(_InputGuesser.default, {\n        key: field.name,\n        source: field.name\n      });\n    });\n    displayOverrideCode(resourceSchema, fields);\n  }\n\n  return (// FIXME: enabling the undoable feature breaks API Platform Admin...\n    // see https://github.com/api-platform/admin/pull/217\n    _react.default.createElement(_reactAdmin.Edit, _extends({}, props, {\n      undoable: false\n    }), _react.default.createElement(_reactAdmin.SimpleForm, null, children))\n  );\n};\n\nexports.EditGuesserComponent = EditGuesserComponent;\n\nvar EditGuesser = function EditGuesser(props) {\n  return _react.default.createElement(_IntrospectQuery.default, _extends({\n    component: EditGuesserComponent\n  }, props));\n};\n\nEditGuesser.propTypes = {\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  resource: _propTypes.default.string.isRequired\n};\nvar _default = EditGuesser;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Guillaume/Code/e-commerce/admin/node_modules/@api-platform/admin/lib/EditGuesser.js"],"names":["Object","defineProperty","exports","value","default","EditGuesserComponent","_react","_interopRequireDefault","require","_propTypes","_reactAdmin","_InputGuesser","_IntrospectQuery","obj","__esModule","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","displayOverrideCode","resourceSchema","fields","code","title","forEach","field","name","console","info","children","props","map","createElement","Edit","undoable","SimpleForm","EditGuesser","component","propTypes","oneOfType","node","func","resource","string","isRequired","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.EditGuesserComponent = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _InputGuesser = _interopRequireDefault(require(\"./InputGuesser\"));\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst displayOverrideCode = (resourceSchema, fields) => {\n  let code = 'If you want to override at least one input, paste this content in the <EditGuesser> component of your resource:\\n\\n';\n  code += `const ${resourceSchema.title}Edit = props => (\\n`;\n  code += `    <EditGuesser {...props}>\\n`;\n  fields.forEach(field => {\n    code += `        <InputGuesser source={\"${field.name}\"} />\\n`;\n  });\n  code += `    </EditGuesser>\\n`;\n  code += `);\\n`;\n  code += `\\n`;\n  code += `And don't forget update your <ResourceGuesser> component:\\n`;\n  code += `<ResourceGuesser name={\"${resourceSchema.name}\"} edit={${resourceSchema.title}Edit} />`;\n  console.info(code);\n}; // useful for testing (we don't need Query)\n\n\nconst EditGuesserComponent = ({\n  children,\n  fields,\n  resourceSchema,\n  ...props\n}) => {\n  if (!children) {\n    children = fields.map(field => _react.default.createElement(_InputGuesser.default, {\n      key: field.name,\n      source: field.name\n    }));\n    displayOverrideCode(resourceSchema, fields);\n  }\n\n  return (// FIXME: enabling the undoable feature breaks API Platform Admin...\n    // see https://github.com/api-platform/admin/pull/217\n    _react.default.createElement(_reactAdmin.Edit, _extends({}, props, {\n      undoable: false\n    }), _react.default.createElement(_reactAdmin.SimpleForm, null, children))\n  );\n};\n\nexports.EditGuesserComponent = EditGuesserComponent;\n\nconst EditGuesser = props => _react.default.createElement(_IntrospectQuery.default, _extends({\n  component: EditGuesserComponent\n}, props));\n\nEditGuesser.propTypes = {\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  resource: _propTypes.default.string.isRequired\n};\nvar _default = EditGuesser;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}