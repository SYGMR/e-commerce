{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectWithoutProperties\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.InputGuesserComponent = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _docsUtils = require(\"./docsUtils\");\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar InputGuesserComponent = function InputGuesserComponent(_ref) {\n  var fields = _ref.fields,\n      resourceSchema = _ref.resourceSchema,\n      props = _objectWithoutProperties(_ref, [\"fields\", \"resourceSchema\"]);\n\n  var field = fields.find(function (_ref2) {\n    var name = _ref2.name;\n    return name === props.source;\n  });\n\n  if (!field) {\n    console.error(\"Field \".concat(props.source, \" not present inside the api description for the resource \").concat(props.resource));\n    return _react.default.createElement(_react.Fragment, null);\n  }\n\n  var validate = !props.validate && field.required ? [(0, _reactAdmin.required)()] : props.validate;\n\n  if (null !== field.reference) {\n    if (1 === field.maxCardinality) {\n      return _react.default.createElement(_reactAdmin.ReferenceInput, _extends({\n        key: field.name,\n        label: field.name,\n        reference: field.reference.name,\n        source: field.name,\n        validate: validate\n      }, props, {\n        allowEmpty: true\n      }), _react.default.createElement(_reactAdmin.SelectInput, {\n        optionText: (0, _docsUtils.getReferenceNameField)(field.reference)\n      }));\n    }\n\n    return _react.default.createElement(_reactAdmin.ReferenceArrayInput, _extends({\n      key: field.name,\n      label: field.name,\n      reference: field.reference.name,\n      source: field.name,\n      validate: validate\n    }, props, {\n      allowEmpty: true\n    }), _react.default.createElement(_reactAdmin.SelectArrayInput, {\n      optionText: (0, _docsUtils.getReferenceNameField)(field.reference)\n    }));\n  }\n\n  if ('http://schema.org/identifier' === field.id) {\n    var prefix = \"/\".concat(props.resource, \"/\");\n\n    props.format = function (value) {\n      return value && 0 === value.indexOf(prefix) ? value.substr(prefix.length) : value;\n    };\n\n    props.parse = function (value) {\n      return -1 !== value.indexOf(prefix) ? prefix + value : value;\n    };\n  }\n\n  switch (field.range) {\n    case 'http://www.w3.org/2001/XMLSchema#array':\n      return _react.default.createElement(_reactAdmin.ArrayInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props), _react.default.createElement(_reactAdmin.SimpleFormIterator, null, _react.default.createElement(_reactAdmin.TextInput, null)));\n\n    case 'http://www.w3.org/2001/XMLSchema#integer':\n      return _react.default.createElement(_reactAdmin.NumberInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#decimal':\n      return _react.default.createElement(_reactAdmin.NumberInput, _extends({\n        key: field.name,\n        source: field.name,\n        step: \"0.1\",\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#boolean':\n      return _react.default.createElement(_reactAdmin.BooleanInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#date':\n    case 'http://www.w3.org/2001/XMLSchema#dateTime':\n      return _react.default.createElement(_reactAdmin.DateInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    default:\n      return _react.default.createElement(_reactAdmin.TextInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n  }\n};\n\nexports.InputGuesserComponent = InputGuesserComponent;\n\nvar InputGuesser = function InputGuesser(props) {\n  return _react.default.createElement(_IntrospectQuery.default, _extends({\n    component: InputGuesserComponent,\n    includeDeprecated: true\n  }, props));\n};\n\nInputGuesser.propTypes = {\n  source: _propTypes.default.string.isRequired\n};\nvar _default = InputGuesser;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Guillaume/Code/e-commerce/admin/node_modules/@api-platform/admin/lib/InputGuesser.js"],"names":["Object","defineProperty","exports","value","default","InputGuesserComponent","_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_reactAdmin","_docsUtils","_IntrospectQuery","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","target","i","arguments","length","source","apply","fields","resourceSchema","props","field","find","name","console","error","resource","createElement","Fragment","validate","required","reference","maxCardinality","ReferenceInput","label","allowEmpty","SelectInput","optionText","getReferenceNameField","ReferenceArrayInput","SelectArrayInput","id","prefix","format","indexOf","substr","parse","range","ArrayInput","SimpleFormIterator","TextInput","NumberInput","step","BooleanInput","DateInput","InputGuesser","component","includeDeprecated","propTypes","string","isRequired","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.InputGuesserComponent = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _docsUtils = require(\"./docsUtils\");\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; if (obj != null) { var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst InputGuesserComponent = ({\n  fields,\n  resourceSchema,\n  ...props\n}) => {\n  const field = fields.find(({\n    name\n  }) => name === props.source);\n\n  if (!field) {\n    console.error(`Field ${props.source} not present inside the api description for the resource ${props.resource}`);\n    return _react.default.createElement(_react.Fragment, null);\n  }\n\n  const validate = !props.validate && field.required ? [(0, _reactAdmin.required)()] : props.validate;\n\n  if (null !== field.reference) {\n    if (1 === field.maxCardinality) {\n      return _react.default.createElement(_reactAdmin.ReferenceInput, _extends({\n        key: field.name,\n        label: field.name,\n        reference: field.reference.name,\n        source: field.name,\n        validate: validate\n      }, props, {\n        allowEmpty: true\n      }), _react.default.createElement(_reactAdmin.SelectInput, {\n        optionText: (0, _docsUtils.getReferenceNameField)(field.reference)\n      }));\n    }\n\n    return _react.default.createElement(_reactAdmin.ReferenceArrayInput, _extends({\n      key: field.name,\n      label: field.name,\n      reference: field.reference.name,\n      source: field.name,\n      validate: validate\n    }, props, {\n      allowEmpty: true\n    }), _react.default.createElement(_reactAdmin.SelectArrayInput, {\n      optionText: (0, _docsUtils.getReferenceNameField)(field.reference)\n    }));\n  }\n\n  if ('http://schema.org/identifier' === field.id) {\n    const prefix = `/${props.resource}/`;\n\n    props.format = value => {\n      return value && 0 === value.indexOf(prefix) ? value.substr(prefix.length) : value;\n    };\n\n    props.parse = value => {\n      return -1 !== value.indexOf(prefix) ? prefix + value : value;\n    };\n  }\n\n  switch (field.range) {\n    case 'http://www.w3.org/2001/XMLSchema#array':\n      return _react.default.createElement(_reactAdmin.ArrayInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props), _react.default.createElement(_reactAdmin.SimpleFormIterator, null, _react.default.createElement(_reactAdmin.TextInput, null)));\n\n    case 'http://www.w3.org/2001/XMLSchema#integer':\n      return _react.default.createElement(_reactAdmin.NumberInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#decimal':\n      return _react.default.createElement(_reactAdmin.NumberInput, _extends({\n        key: field.name,\n        source: field.name,\n        step: \"0.1\",\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#boolean':\n      return _react.default.createElement(_reactAdmin.BooleanInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    case 'http://www.w3.org/2001/XMLSchema#date':\n    case 'http://www.w3.org/2001/XMLSchema#dateTime':\n      return _react.default.createElement(_reactAdmin.DateInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n\n    default:\n      return _react.default.createElement(_reactAdmin.TextInput, _extends({\n        key: field.name,\n        source: field.name,\n        validate: validate\n      }, props));\n  }\n};\n\nexports.InputGuesserComponent = InputGuesserComponent;\n\nconst InputGuesser = props => _react.default.createElement(_IntrospectQuery.default, _extends({\n  component: InputGuesserComponent,\n  includeDeprecated: true\n}, props));\n\nInputGuesser.propTypes = {\n  source: _propTypes.default.string.isRequired\n};\nvar _default = InputGuesser;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}