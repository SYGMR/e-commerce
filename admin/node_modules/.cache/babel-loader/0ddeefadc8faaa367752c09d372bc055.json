{"ast":null,"code":"\"use strict\";\n\nvar _objectWithoutProperties = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/objectWithoutProperties\");\n\nvar _classCallCheck = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/createClass\");\n\nvar _possibleConstructorReturn = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/getPrototypeOf\");\n\nvar _inherits = require(\"C:\\\\Users\\\\Guillaume\\\\Code\\\\e-commerce\\\\admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/inherits\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListGuesserComponent = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _docsUtils = require(\"./docsUtils\");\n\nvar _FieldGuesser = _interopRequireDefault(require(\"./FieldGuesser\"));\n\nvar _FilterGuesser = _interopRequireDefault(require(\"./FilterGuesser\"));\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar displayOverrideCode = function displayOverrideCode(resourceSchema, fields) {\n  var code = 'If you want to override at least one field, paste this content in the <ListGuesser> component of your resource:\\n\\n';\n  code += \"const \".concat(resourceSchema.title, \"List = props => (\\n\");\n  code += \"    <ListGuesser {...props}>\\n\";\n  fields.forEach(function (field) {\n    code += \"        <FieldGuesser source={\\\"\".concat(field.name, \"\\\"} />\\n\");\n  });\n  code += \"    </ListGuesser>\\n\";\n  code += \");\\n\";\n  code += \"\\n\";\n  code += \"And don't forget update your <ResourceGuesser> component:\\n\";\n  code += \"<ResourceGuesser name={\\\"\".concat(resourceSchema.name, \"\\\"} list={\").concat(resourceSchema.title, \"List} />\");\n  console.info(code);\n};\n\nvar ListGuesserComponent =\n/*#__PURE__*/\nfunction (_react$default$Compon) {\n  _inherits(ListGuesserComponent, _react$default$Compon);\n\n  function ListGuesserComponent(props) {\n    var _this;\n\n    _classCallCheck(this, ListGuesserComponent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListGuesserComponent).call(this, props));\n    _this.state = {\n      orderParameters: _this.props.resourceSchema ? (0, _docsUtils.getOrderParametersFromResourceSchema)(_this.props.resourceSchema) : []\n    };\n    return _this;\n  }\n\n  _createClass(ListGuesserComponent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (this.state.orderParameters.length) {\n        return;\n      }\n\n      this.props.resourceSchema.getParameters().then(function () {\n        _this2.setState({\n          orderParameters: (0, _docsUtils.getOrderParametersFromResourceSchema)(_this2.props.resourceSchema)\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          resourceSchema = _this$props.resourceSchema,\n          fields = _this$props.fields,\n          props = _objectWithoutProperties(_this$props, [\"resourceSchema\", \"fields\"]);\n\n      if (!props.children) {\n        props.children = fields.map(function (field) {\n          return _react.default.createElement(_FieldGuesser.default, {\n            key: field.name,\n            source: field.name,\n            sortable: _this3.state.orderParameters.includes(field.name)\n          });\n        });\n        displayOverrideCode(resourceSchema, fields);\n      }\n\n      return _react.default.createElement(_reactAdmin.List, props, _react.default.createElement(_reactAdmin.Datagrid, null, props.children, props.hasShow && _react.default.createElement(_reactAdmin.ShowButton, null), props.hasEdit && _react.default.createElement(_reactAdmin.EditButton, null)));\n    }\n  }]);\n\n  return ListGuesserComponent;\n}(_react.default.Component);\n\nexports.ListGuesserComponent = ListGuesserComponent;\n\nvar ListGuesser = function ListGuesser(props) {\n  return _react.default.createElement(_IntrospectQuery.default, _extends({\n    component: ListGuesserComponent\n  }, props));\n};\n\nListGuesser.propTypes = {\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  resource: _propTypes.default.string.isRequired,\n  filters: _propTypes.default.element\n};\nListGuesser.defaultProps = {\n  filters: _react.default.createElement(_FilterGuesser.default, null)\n};\nvar _default = ListGuesser;\nexports.default = _default;","map":{"version":3,"sources":["C:/Users/Guillaume/Code/e-commerce/admin/node_modules/@api-platform/admin/lib/ListGuesser.js"],"names":["Object","defineProperty","exports","value","default","ListGuesserComponent","_react","_interopRequireDefault","require","_propTypes","_reactAdmin","_docsUtils","_FieldGuesser","_FilterGuesser","_IntrospectQuery","obj","__esModule","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","displayOverrideCode","resourceSchema","fields","code","title","forEach","field","name","console","info","props","state","orderParameters","getOrderParametersFromResourceSchema","getParameters","then","setState","children","map","createElement","sortable","includes","List","Datagrid","hasShow","ShowButton","hasEdit","EditButton","Component","ListGuesser","component","propTypes","oneOfType","node","func","resource","string","isRequired","filters","element","defaultProps","_default"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListGuesserComponent = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactAdmin = require(\"react-admin\");\n\nvar _docsUtils = require(\"./docsUtils\");\n\nvar _FieldGuesser = _interopRequireDefault(require(\"./FieldGuesser\"));\n\nvar _FilterGuesser = _interopRequireDefault(require(\"./FilterGuesser\"));\n\nvar _IntrospectQuery = _interopRequireDefault(require(\"./IntrospectQuery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nconst displayOverrideCode = (resourceSchema, fields) => {\n  let code = 'If you want to override at least one field, paste this content in the <ListGuesser> component of your resource:\\n\\n';\n  code += `const ${resourceSchema.title}List = props => (\\n`;\n  code += `    <ListGuesser {...props}>\\n`;\n  fields.forEach(field => {\n    code += `        <FieldGuesser source={\"${field.name}\"} />\\n`;\n  });\n  code += `    </ListGuesser>\\n`;\n  code += `);\\n`;\n  code += `\\n`;\n  code += `And don't forget update your <ResourceGuesser> component:\\n`;\n  code += `<ResourceGuesser name={\"${resourceSchema.name}\"} list={${resourceSchema.title}List} />`;\n  console.info(code);\n};\n\nclass ListGuesserComponent extends _react.default.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderParameters: this.props.resourceSchema ? (0, _docsUtils.getOrderParametersFromResourceSchema)(this.props.resourceSchema) : []\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.orderParameters.length) {\n      return;\n    }\n\n    this.props.resourceSchema.getParameters().then(() => {\n      this.setState({\n        orderParameters: (0, _docsUtils.getOrderParametersFromResourceSchema)(this.props.resourceSchema)\n      });\n    });\n  }\n\n  render() {\n    const {\n      resourceSchema,\n      fields,\n      ...props\n    } = this.props;\n\n    if (!props.children) {\n      props.children = fields.map(field => _react.default.createElement(_FieldGuesser.default, {\n        key: field.name,\n        source: field.name,\n        sortable: this.state.orderParameters.includes(field.name)\n      }));\n      displayOverrideCode(resourceSchema, fields);\n    }\n\n    return _react.default.createElement(_reactAdmin.List, props, _react.default.createElement(_reactAdmin.Datagrid, null, props.children, props.hasShow && _react.default.createElement(_reactAdmin.ShowButton, null), props.hasEdit && _react.default.createElement(_reactAdmin.EditButton, null)));\n  }\n\n}\n\nexports.ListGuesserComponent = ListGuesserComponent;\n\nconst ListGuesser = props => _react.default.createElement(_IntrospectQuery.default, _extends({\n  component: ListGuesserComponent\n}, props));\n\nListGuesser.propTypes = {\n  children: _propTypes.default.oneOfType([_propTypes.default.node, _propTypes.default.func]),\n  resource: _propTypes.default.string.isRequired,\n  filters: _propTypes.default.element\n};\nListGuesser.defaultProps = {\n  filters: _react.default.createElement(_FilterGuesser.default, null)\n};\nvar _default = ListGuesser;\nexports.default = _default;"]},"metadata":{},"sourceType":"script"}